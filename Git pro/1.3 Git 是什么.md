
## Git 是什么？

### 直接记录快照，而非差异比较
Git 和其它版本控制系统（包括 Subversion 和近似工具）的主要差别在于 Git 对待数据的方式。
大部分系统以文件变更列表的方式来储存信息，这类系统将他们存储的信息看作是一组基本文件和每一个文件的随时间逐步积累的的差异，（**基于差异**的版本控制）。
![[Pasted image 20230513163749.png]]
Figure.存储每个文件与初始版本的差异.

相反，Git更像是把数据看成是对小型文件的一系列快照。在Git中，每当提交更改或者保存项目状态时，它基本上就会对当时的全部文件创建一个快照并保存这个快照的索引。
为了效率，==如果文件没有修改，Git 不再重新存储该文件==，而是只保留一个链接指向之前存储的文件。 Git 对待数据更像是一个 **快照流**。
![[Pasted image 20230513164251.png]]Figure 5. 存储项目随时间改变的快照.

 Git 重新考虑了以前每一代版本控制系统延续下来的诸多方面。 Git 更像是一个小型的文件系统，提供了许多以此为基础构建的超强工具，而不只是一个简单的 VCS

> [!NOTE] VCS
> VCS是Verilog Compiled Simulator的缩写，是一种Verilog仿真工具。它可以分析、编译和模拟Verilog、SystemVerilog、OpenVera和VHDL等硬件描述语言
> 在Git中，你可以使用VCS来管理你的代码库，包括创建、提交、合并和回滚等操作

### 近乎所有操作都是本地执行

在 Git 中的绝大多数操作都只需要访问本地文件和资源，一般不需要来自网络上其它计算机的信息。在本地磁盘上就有项目的完整历史，所以大部分操作看起来瞬间完成。

比如：要浏览项目的历史，Git 不需外连到服务器去获取历史，然后再显示出来——它只需直接从本地数据库中读取。 就能立即看到项目历史。如果想查看当前版本与一个月前的版本之间引入的修改， Git 会查找到一个月前的文件做一次本地的差异计算，而不是由远程服务器处理或从远程服务器拉回旧版本文件再来本地处理。
这也意味着你在离线或者没有 VPN 时，几乎可以进行任何操作。 如你在飞机或火车上想做些工作，就能愉快地提交（到你的 **本地** 副本，还记得吗？）， 直到有网络连接时再上传。

> [!NOTE] 本地副本
> 在Git中，本地副本是指你的代码库的一个本地副本，它是你在本地计算机上的一个副本，可以用来进行代码的修改和测试。
>对代码进行修改后，你可以将这些更改提交到你的本地副本中，然后再将这些更改推送到远程存储库中。



### Git 保证完整性

Git 中所有的数据在存储前都计算校验和，然后以校验和来引用。 ==这意味着不可能在 Git 不知情时更改任何文件内容或目录内容==。 这个功能建构在 **Git 底层**，是构成 Git 哲学不可或缺的部分。 若你在传送过程中丢失信息或损坏文件，Git 就能发现。
Git 用以计算校验和的机制叫做 SHA-1 散列（hash，哈希）。 这是一个由 40 个十六进制字符（0-9 和 a-f）组成的字符串，基于 Git 中文件的内容或目录结构计算出来。 SHA-1 哈希看起来是这样：
```
24b9da6552252987aa493b52f8696cd6d3b00373
```

==Git 数据库中保存的信息都是以文件内容的哈希值来索引，而不是文件名。==

### Git 一般只添加数据
行的 Git 操作，几乎只往 Git 数据库中 **添加** 数据。 你很难使用 Git 从数据库中删除数据，也就是说 ==Git 几乎不会执行任何可能导致文件不可恢复的操作==。
### 三种状态
Git 有三种状态，你的文件可能处于其中之一： **已提交（committed）**、**已修改（modified）** 和 **已暂存（staged）**。
-   已修改表示修改了文件，但还没保存到数据库中。    
-   已暂存表示对一个已修改文件的当前版本做了标记，使之包含在下次提交的快照中。
-   已提交表示数据已经安全地保存在本地数据库中。

Git的三个工作阶段：
- 工作区  工作区是对项目的某个版本独立提取出来的内容。 这些从 Git 仓库的压缩数据库中提取出来的文件，放在磁盘上供你使用或修改。

- 暂存区  暂存区是一个文件，保存了下次将要提交的文件列表信息，一般在 Git 仓库目录中。 按照 Git 的术语叫做“索引”，不过一般说法还是叫“暂存区”。

- ==Git目录==  Git 仓库目录是 Git 用来保存项目的元数据和对象数据库的地方。 这是 Git 中最重要的部分，从其它计算机克隆仓库时，复制的就是这里的数据。
![[Pasted image 20230513165519.png]]
Figure . 工作目录、暂存区域以及 Git 仓库.

基本的 Git 工作流程如下：
1.  在工作区中修改文件。
    
2.  将你想要下次提交的更改选择性地暂存，这样只会将更改的部分添加到暂存区。
    
3.  提交更新，找到暂存区的文件，将快照永久性存储到 Git 目录。

如果 Git 目录中保存着特定版本的文件，就属于 **已提交** 状态。 如果文件已修改并放入暂存区，就属于 **已暂存** 状态。 如果自上次检出后，作了修改但还没有放到暂存区域，就是 **已修改** 状态。















